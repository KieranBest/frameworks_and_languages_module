<html>
<head>
   <meta charset="utf-8" />
   <link id="favicon" rel="shortcut icon" type="image/png" href="data:image/png;base64,....==" />
   <title>Boilerplate</title>

   <style>

   </style>

   <script src="https://localhost:8000/"></script>

</head>
<body>
   <h1>HTML Boilerplate</h1>
   <div id="app">
    {{ message }}
     <form @submit.prevent="additem">
       <input v-model="item.user_id" name="name" type="text" placeholder="type your name in">
       <input v-model="item.keyword" name="notes" type="text" placeholder="type your notes">
       <button>Submit!</button>
     </form>

     <ul>
       <li v-for="item in items">
         <span>{{item.user_id}}</span>
         <span>{{item.keyword}}</span>
         <button @click="item(item.user_id)"</button>
       </li>
     </ul>
   </div>
<script type="module">
const { createApp } = Vue
let urlAPI = ''
createApp({
  data() {
   return {
     item: {
       user_id: '',
       keyword: '',
    },
     items: [
    ],
     message: 'Hello There!',
  }
 },
  created() {
   this.clearItem()
   this.getAttendees()
 },
  methods: {
   clearItem() {
     this.attendee = {...this.attendee, ...{
       id: Math.random(),
       name: '',
       notes: '',
    }}
  },
   addItem() {
     fetch(`${urlAPI}/item/`, {
       method: 'POST',
       headers: {'Content-Type': 'application/json'},
       body: JSON.stringify(this.item),
    })
      .then(response => response.json())
      .then(json => console.log('addItem()', json))
      .then(this.clearItem)
      .then(this.getItem)
    .catch(err => console.error(err));
  },
   getItems() {
     fetch(`${urlAPI}/items`, {
       method: 'GET',
    })
    .then(response => response.json())
    .then(data => this.items = data)
  .catch(err => console.error(err))
},
    deleteItem(user_id){
    fetch('${urlAPI}/item/${user_id}',{
        method: 'DELETE',
    })
        .then (this.getItems)
        .catch(err=>console.error(err));
    }
}
}).mount('#app')

</script>
</body>
</html>